<!DOCTYPE html>
<html>
    <head>
        <title>ผมว่าแล้วคุณต้องอ่าน</title>
        <style>
            body {
                color: white;
                background-color: black;
            }
        </style>
    </head>
    <body>
        <h1 style="text-align: center;">คุณต้องการคำนวณอะไร ?</h1>
        <h1 style="text-align: center;">วันในสัปดาห์</h1>
        <h4 style="text-align: center;">กรอกวันที่รู้วันในสัปดาห์</h4>
        <div style="text-align: center; margin-top: 20px;">
            <input type="number" id="d1_w" placeholder="วัน (1-31)">
            <input type="number" id="m1_w" placeholder="เดือน (1-12)">
            <input type="number" id="y1_w" placeholder="ปีคริสต์ศักราช">
            <label><input type="radio" name="weekday" value="อาทิตย์"> อาทิตย์</label>
            <label><input type="radio" name="weekday" value="จันทร์"> จันทร์</label>
            <label><input type="radio" name="weekday" value="อังคาร"> อังคาร</label>
            <label><input type="radio" name="weekday" value="พุธ"> พุธ</label>
            <label><input type="radio" name="weekday" value="พฤหัสบดี"> พฤหัสบดี</label>
            <label><input type="radio" name="weekday" value="ศุกร์"> ศุกร์</label>
            <label><input type="radio" name="weekday" value="เสาร์"> เสาร์</label>
        </div>
        <h4 style="text-align: center;">วันที่ต้องการหาวันในสัปดาห์</h4>
        <div style="text-align: center; margin-top: 20px;">
            <input type="number" id="d2_w" placeholder="วัน (1-31)">
            <input type="number" id="m2_w" placeholder="เดือน (1-12)">
            <input type="number" id="y2_w" placeholder="ปีคริสต์ศักราช">
        </div>
        <div style="display: grid; place-items: center;"><button onclick="week()">กดเพื่อไปต่อ</button></div>
        <p style="text-align:center; font-size:20px;">วันในสัปดาห์นั้น คือ <span id="day"></span></p>

        <h1 style="text-align: center;">ระยะห่างของทั้งสองวัน</h1>
        <div style="text-align: center; margin-top: 20px;">
            <input type="number" id="d1" placeholder="วัน (1-31)">
            <input type="number" id="m1" placeholder="เดือน (1-12)">
            <input type="number" id="y1" placeholder="ปีคริสต์ศักราช">
            <br>
            <input type="number" id="d2" placeholder="วัน (1-31)">
            <input type="number" id="m2" placeholder="เดือน (1-12)">
            <input type="number" id="y2" placeholder="ปีคริสต์ศักราช">
        </div>
        <div style="display: grid; place-items: center;"><button onclick="diffday()">กดเพื่อไปต่อ</button></div>
        <p style="text-align:center; font-size:20px;">ผลต่างระหว่างสองวัน คือ <span id="test"></span> วัน</p>
                <h2 style="text-align: center;">นอกจากนี้เว็บของเรายังใช้คำนวณราศีได้ด้วยนะ ถ้าสนใจก็กดปุ่มด้านล่างเลยยย</h2>
        <div style="display: grid; place-items: center;">
                <button onclick="window.location.href='zodiac.html'">คำนวณราศี</button>
                <button onclick="window.location.href='nah.html'">ไม่ครับ หยิ่ง</button>
        </div>
        <script>
            const dim=[31,28,31,30,31,30,31,31,30,31,30,31];
            function diffday(d1=null,m1=null,y1=null,d2=null,m2=null,y2=null) {
                if(d1===null) {
                    d1=parseInt(document.getElementById('d1').value);
                    m1=parseInt(document.getElementById('m1').value);
                    y1=parseInt(document.getElementById('y1').value);
                    d2=parseInt(document.getElementById('d2').value);
                    m2=parseInt(document.getElementById('m2').value);
                    y2=parseInt(document.getElementById('y2').value);
                }
                if (y1>y2 || (y1===y2 && m1>m2) || (y1===y2 && m1===m2 && d1>d2)) {
                    [d1,m1,y1,d2,m2,y2]=[d2,m2,y2,d1,m1,y1];
                }
                let test,dy,di=0,dj=0,l1=0,l2=0,k=0,leaps ;
                for(let i=0;i<m1-1;i++) {
    	            di+=dim[i] ;
                }
                for(let j=0;j<m2-1;j++) {
    	            dj+=dim[j] ;
                }
                if(m1>2) {
    	            if(y1%4===0) {
			            if(y1%100===0 && y1%400!==0) {
				            l1=0 ;
			        } else {
				            l1=1 ;
			        }
		            }
	            }
	            if(m2>2) {
    	            if(y2%4===0) {
			            if(y2%100===0 && y2%400!==0) {
				            l2=0 ;
			            } else {
				            l2=1 ;
			            }
		            }
	            }
                leaps=(Math.floor((y2-1)/4)-Math.floor((y1-1)/4))-(Math.floor((y2-1)/100)-Math.floor((y1-1)/100))+(Math.floor((y2-1)/400)-Math.floor((y1-1)/400))
                test=365*(y2-y1)+leaps+(dj+d2+l2)-(di+d1+l1) ;
                document.getElementById('test').textContent=test ;
                return test ;
            }
            function week() {
                const d1=parseInt(document.getElementById('d1_w').value) ;
                const m1=parseInt(document.getElementById('m1_w').value) ;
                const y1=parseInt(document.getElementById('y1_w').value) ;
                const radios=document.getElementsByName('weekday') ;
                const weekdays=["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"] ;
                let ref_day=-1 ;
                for(let r of radios) {
                    if(r.checked) {
                    ref_day=weekdays.indexOf(r.value) ; break ;
                    }
                }
                if(ref_day===-1) {
                    alert("กรุณาเลือกวันในสัปดาห์") ;
                }
                const d2=parseInt(document.getElementById('d2_w').value) ;
                const m2=parseInt(document.getElementById('m2_w').value) ;
                const y2=parseInt(document.getElementById('y2_w').value) ;
                let dayDiff=diffday(d1,m1,y1,d2,m2,y2) ;
                if (y2<y1 || (y2===y1 && m2<m1) || (y2===y1 && m2===m1 && d2<d1)) {
                    dayDiff = -dayDiff;
                }
                let target_day=(ref_day+dayDiff)%7 ;
                if (target_day<0) {
                target_day+=7 ;
                }
                document.getElementById('day').textContent=weekdays[target_day] ;
            }
        </script>
    </body>
</html>
